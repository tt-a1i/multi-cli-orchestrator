<h1 align="center">MCO</h1>

<p align="center">
  <img src="./docs/assets/logos/mco-logo-readme.svg" alt="MCO Logo" width="520" />
</p>

<p align="center">
  <a href="https://www.npmjs.com/package/@tt-a1i/mco"><img src="https://img.shields.io/npm/v/@tt-a1i/mco?style=flat-square&color=cb3837&logo=npm&logoColor=white" alt="npm version" /></a>
  <a href="https://www.npmjs.com/package/@tt-a1i/mco"><img src="https://img.shields.io/npm/dm/@tt-a1i/mco?style=flat-square&color=cb3837" alt="npm downloads" /></a>
  <a href="https://github.com/mco-org/mco/stargazers"><img src="https://img.shields.io/github/stars/mco-org/mco?style=flat-square&color=f59e0b" alt="GitHub stars" /></a>
  <a href="./LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="License: MIT" /></a>
  <img src="https://img.shields.io/badge/Python-3.9%2B-3776AB?style=flat-square&logo=python&logoColor=white" alt="Python 3.9+" />
  <img src="https://img.shields.io/badge/Providers-5%20built--in-7c3aed?style=flat-square" alt="5 built-in providers" />
</p>

<p align="center"><strong>&#32534;&#25490; AI &#32534;&#31243; Agent&#12290;&#20219;&#24847;&#25552;&#31034;&#35789;&#65292;&#20219;&#24847; Agent&#65292;&#20219;&#24847; IDE&#12290;</strong></p>

<p align="center"><a href="./README.md">English</a> | &#31616;&#20307;&#20013;&#25991;</p>

<table align="center">
  <tr>
    <td align="center"><a href="https://github.com/anthropics/claude-code"><img src="https://github.com/anthropics.png?size=96" alt="Claude Code" width="48" /></a></td>
    <td align="center"><a href="https://github.com/google-gemini/gemini-cli"><img src="https://github.com/google-gemini.png?size=96" alt="Gemini CLI" width="48" /></a></td>
    <td align="center"><a href="https://github.com/openai/codex"><img src="https://github.com/openai.png?size=96" alt="Codex CLI" width="48" /></a></td>
    <td align="center"><a href="https://github.com/sst/opencode"><img src="https://raw.githubusercontent.com/sst/opencode/master/packages/console/app/src/asset/brand/opencode-logo-light-square.svg" alt="OpenCode" width="48" /></a></td>
    <td align="center"><a href="https://github.com/QwenLM/qwen-code"><img src="https://github.com/QwenLM.png?size=96" alt="Qwen Code" width="48" /></a></td>
  </tr>
  <tr>
    <td align="center"><strong>Claude Code</strong></td>
    <td align="center"><strong>Gemini CLI</strong></td>
    <td align="center"><strong>Codex CLI</strong></td>
    <td align="center"><strong>OpenCode</strong></td>
    <td align="center"><strong>Qwen Code</strong></td>
  </tr>
</table>

> &#19968;&#20010; Agent &#26159;&#24037;&#20855;&#65292;&#20116;&#20010; Agent &#26159;&#22242;&#38431;&#12290;
>
> &#20687; Tech Lead &#19968;&#26679;&#24037;&#20316;&#65306;&#25226;&#21516;&#19968;&#20010;&#20219;&#21153;&#20998;&#37197;&#32473;&#22810;&#20010; Agent &#24182;&#34892;&#25191;&#34892;&#65292;&#27604;&#36739;&#32467;&#26524;&#21518;&#20877;&#20915;&#31574;&#12290;

---

**&#30446;&#24405;**: [&#24555;&#36895;&#24320;&#22987;](#&#24555;&#36895;&#24320;&#22987;) | [&#20026;&#20160;&#20040;&#35201;&#22810;&#20010; Agent](#&#20026;&#20160;&#20040;&#35201;&#22810;&#20010;-agent) | [&#20351;&#29992;&#22330;&#26223;](#&#20351;&#29992;&#22330;&#26223;) | [&#20351;&#29992;&#26041;&#24335;](#&#20351;&#29992;&#26041;&#24335;) | [&#24037;&#20316;&#21407;&#29702;](#&#24037;&#20316;&#21407;&#29702;) | [&#37197;&#32622;](#&#37197;&#32622;) | [&#35768;&#21487;&#35777;](#&#35768;&#21487;&#35777;)

---

## &#24555;&#36895;&#24320;&#22987;

```bash
# &#23433;&#35013;&#65288;&#38656;&#35201;&#31995;&#32479;&#26377; Python 3&#65289;
npm i -g @tt-a1i/mco

# &#26816;&#26597; Agent &#29366;&#24577;
mco doctor

# &#36816;&#34892;&#31532;&#19968;&#27425;&#22810; Agent &#23457;&#26597;
mco review \
  --repo . \
  --prompt "Review this repository for high-risk bugs and security issues." \
  --providers claude,codex,qwen
```

<details>
<summary><strong>&#20174;&#28304;&#30721;&#23433;&#35013;</strong></summary>

```bash
git clone https://github.com/mco-org/mco.git
cd mco
python3 -m pip install -e .
```

</details>

---

## &#20026;&#20160;&#20040;&#35201;&#22810;&#20010; Agent

&#27809;&#26377;&#20219;&#20309;&#19968;&#20010; AI &#27169;&#22411;&#33021;&#30475;&#21040;&#25152;&#26377;&#38382;&#39064;&#12290;&#27599;&#20010;&#27169;&#22411;&#26377;&#21508;&#33258;&#30340;&#25797;&#38271;&#21644;&#30450;&#21306;&#65306;

- **Agent A** &#21457;&#29616;&#20102;&#24322;&#27493;&#20195;&#30721;&#20013;&#30340;&#31454;&#24577;&#26465;&#20214; &mdash; &#21364;&#24573;&#30053;&#20102; ORM &#23618;&#30340; SQL &#27880;&#20837;
- **Agent B** &#31435;&#21051;&#23450;&#20301;&#20102;&#27880;&#20837;&#38382;&#39064; &mdash; &#21364;&#23436;&#20840;&#27809;&#27880;&#24847;&#21040;&#31454;&#24577;&#26465;&#20214;
- **Agent C** &#20004;&#20010;&#37117;&#27809;&#21457;&#29616; &mdash; &#20294;&#25214;&#21040;&#20102;&#19968;&#20010;&#38544;&#34109;&#30340;&#20869;&#23384;&#27844;&#28431;

&#24182;&#34892;&#36305; 3&ndash;5 &#20010; Agent&#65292;&#20320;&#24471;&#21040;&#30340;&#26159;**&#35270;&#35282;&#30340;&#24182;&#38598;**&#32780;&#38750;&#20132;&#38598;&#12290;MCO &#33258;&#21160;&#21270;&#36825;&#20010;&#27969;&#31243;&#65306;

1. **&#20998;&#37197;&#20219;&#21153;** &mdash; &#32473; MCO &#19968;&#20010;&#20219;&#21153;&#21644;&#19968;&#32452; Agent
2. **&#24182;&#34892;&#25191;&#34892;** &mdash; &#24635;&#32791;&#26102; &asymp; &#26368;&#24930;&#30340;&#37027;&#20010;&#65292;&#32780;&#19981;&#26159;&#24635;&#21644;
3. **&#21435;&#37325;** &mdash; &#30456;&#21516;&#21457;&#29616;&#33258;&#21160;&#21512;&#24182;&#65292;&#20445;&#30041; `detected_by` &#26469;&#28304;&#36861;&#36394;
4. **&#27719;&#24635;&#20849;&#35782;** &mdash; &#21487;&#36873;&#22320;&#35753;&#19968;&#20010; Agent &#27719;&#24635;&#20849;&#35782;&#19982;&#20998;&#27495;

---

## &#26680;&#24515;&#29305;&#24615;

- **&#24182;&#34892;&#25159;&#20986;** &mdash; &#21516;&#26102;&#20998;&#21457;&#21040;&#22810;&#20010; Agent&#65292;wait-all &#35821;&#20041;
- **&#20219;&#24847; IDE&#65292;&#20219;&#24847; Agent** &mdash; &#22312; Claude Code&#12289;Cursor&#12289;Trae&#12289;Copilot&#12289;Windsurf &#25110;&#21629;&#20196;&#34892;&#20013;&#20351;&#29992;
- **Agent &#20114;&#30456;&#35843;&#24230;** &mdash; Agent &#20043;&#38388;&#21487;&#36890;&#36807; MCO &#20114;&#30456;&#20998;&#21457;&#20219;&#21153;
- **&#21452;&#27169;&#24335;** &mdash; `mco review` &#32467;&#26500;&#21270;&#23457;&#26597;&#65292;`mco run` &#36890;&#29992;&#20219;&#21153;
- **&#36328; Agent &#21457;&#29616;&#21435;&#37325;** &mdash; &#30456;&#21516;&#38382;&#39064;&#33258;&#21160;&#21512;&#24182;&#65292;&#20445;&#30041;&#26469;&#28304;&#36861;&#36394;
- **LLM &#20849;&#35782;&#24635;&#32467;** &mdash; `--synthesize` &#36755;&#20986;&#36328; Agent &#20849;&#35782;/&#20998;&#27495;&#25688;&#35201;
- **CI/CD &#38598;&#25104;** &mdash; `--format sarif` &#23545;&#25509; GitHub Code Scanning&#65292;`--format markdown-pr` &#29983;&#25104; PR &#35780;&#35770;
- **&#21487;&#25193;&#23637;** &mdash; &#26032;&#22686; Agent CLI &#21482;&#38656;&#23454;&#29616;&#19977;&#20010;&#38057;&#23376;&#65306;&#35748;&#35777;&#26816;&#26597;&#12289;&#21629;&#20196;&#26500;&#24314;&#12289;&#36755;&#20986;&#26631;&#20934;&#21270;

---

## &#20351;&#29992;&#22330;&#26223;

| &#22330;&#26223; | &#21629;&#20196; | &#25928;&#26524; |
|------|------|------|
| PR &#20195;&#30721;&#23457;&#26597; | `mco review --format markdown-pr` | &#22810;&#20010; Agent &#24182;&#34892;&#23457;&#26597;&#65292;&#36755;&#20986; PR &#35780;&#35770; |
| CI &#23433;&#20840;&#25195;&#25551; | `mco review --format sarif` | &#32467;&#26524;&#30452;&#25509;&#19978;&#20256; GitHub Code Scanning |
| &#26550;&#26500;&#20998;&#26512; | `mco run --providers claude,gemini,qwen` | &#22810;&#35270;&#35282;&#26550;&#26500;&#35780;&#20272; |
| &#37096;&#32626;&#21069;&#20581;&#24247;&#26816;&#26597; | `mco doctor --json` | &#30830;&#35748;&#25152;&#26377; Agent &#24050;&#23433;&#35013;&#19988;&#24050;&#35748;&#35777; |
| &#20849;&#35782;&#20915;&#31574; | `mco review --synthesize` | &#27719;&#24635; Agent &#20849;&#35782;&#12289;&#26631;&#27880;&#20998;&#27495; |

---

## &#20351;&#29992;&#26041;&#24335;

### Review &#27169;&#24335;

&#32467;&#26500;&#21270;&#20195;&#30721;&#23457;&#26597;&#65292;&#36755;&#20986;&#26631;&#20934;&#21270;&#30340; findings&#65288;&#21547;&#20005;&#37325;&#32423;&#21035;&#12289;&#20998;&#31867;&#12289;&#35777;&#25454;&#12289;&#24314;&#35758;&#65289;&#65306;

```bash
mco review \
  --repo . \
  --prompt "Review for security vulnerabilities and performance issues." \
  --providers claude,codex,gemini,opencode,qwen \
  --json
```

### Run &#27169;&#24335;

&#36890;&#29992;&#22810; Agent &#20219;&#21153;&#25191;&#34892;&#65292;&#19981;&#24378;&#21046;&#36755;&#20986;&#26684;&#24335;&#65306;

```bash
mco run \
  --repo . \
  --prompt "Summarize the architecture of this project." \
  --providers claude,codex \
  --json
```

### Doctor

&#22312;&#25191;&#34892;&#20219;&#21153;&#21069;&#26816;&#26597;&#25152;&#26377; Agent &#30340;&#23433;&#35013;&#12289;&#21487;&#36798;&#24615;&#21644;&#35748;&#35777;&#29366;&#24577;&#65306;

```bash
mco doctor
mco doctor --json
```

### &#36755;&#20986;&#26684;&#24335;

| &#26684;&#24335; | &#21442;&#25968; | &#29992;&#36884; |
|------|------|------|
| &#20154;&#31867;&#21487;&#35835;&#25253;&#21578; | `--format report`&#65288;&#40664;&#35748;&#65289; | &#32456;&#31471;&#38405;&#35835; |
| PR Markdown | `--format markdown-pr` | &#20316;&#20026; GitHub PR &#35780;&#35770;&#21457;&#24067; |
| SARIF 2.1.0 | `--format sarif` | &#19978;&#20256;&#21040; GitHub Code Scanning |
| &#26426;&#22120;&#21487;&#35835; JSON | `--json` | &#19979;&#28216;&#33258;&#21160;&#21270; |

### Agent &#21451;&#22909;&#30340; CLI

MCO &#23436;&#20840;&#33258;&#25551;&#36848;&#12290;&#20219;&#20309; AI Agent &#36890;&#36807; `mco -h` &#21363;&#21487;&#23398;&#20250;&#20351;&#29992;&#65306;

> *&#8220;&#29992; mco &#25226;&#23433;&#20840;&#23457;&#26597;&#20998;&#21457;&#32473; Claude &#21644; Codex&#65292;&#24615;&#33021;&#20998;&#26512;&#20998;&#21457;&#32473; Gemini &#21644; Qwen &mdash; &#24182;&#34892;&#25191;&#34892;&#12290;&#8221;*

Agent &#35835;&#21462; help &#36755;&#20986;&#65292;&#29702;&#35299;&#21442;&#25968;&#65292;&#32452;&#35013;&#21629;&#20196;&#65292;&#33258;&#20027;&#32534;&#25490;&#25972;&#20010;&#27969;&#31243;&#12290;

---

## &#24037;&#20316;&#21407;&#29702;

```
&#20320;&#65288;&#25110; IDE &#20013;&#30340; Agent&#65289;
     |
     v
  mco review / mco run
     |
     +---> Claude Code  ---+
     +---> Codex CLI       |
     +---> Gemini CLI      +---> &#21435;&#37325; --> &#20849;&#35782;&#24635;&#32467; --> &#36755;&#20986;
     +---> OpenCode        |
     +---> Qwen Code    ---+
                                |
                      +---------+---------+
                      v         v         v
                    JSON      SARIF   Markdown-PR
                 (stdout)   (CI/CD)  (PR &#35780;&#35770;)
```

&#27599;&#20010; provider &#36890;&#36807;&#32479;&#19968;&#36866;&#37197;&#22120;&#22865;&#32422;&#20316;&#20026;&#29420;&#31435;&#23376;&#36827;&#31243;&#36816;&#34892;&#65306;

1. **Detect** &mdash; &#26816;&#27979;&#20108;&#36827;&#21046;&#21644;&#35748;&#35777;&#29366;&#24577;
2. **Run** &mdash; &#21551;&#21160; CLI &#36827;&#31243;&#65292;&#20256;&#20837;&#25552;&#31034;&#35789;&#65292;&#25429;&#33719; stdout/stderr
3. **Poll** &mdash; &#30417;&#25511;&#36755;&#20986;&#36827;&#24230;&#21028;&#26029;&#27963;&#36291;&#24230;
4. **Cancel** &mdash; stall timeout &#25110;&#30828;&#25130;&#27490;&#26102; SIGTERM/SIGKILL
5. **Normalize** &mdash; &#20174;&#21407;&#22987;&#36755;&#20986;&#25552;&#21462;&#32467;&#26500;&#21270; findings

&#25191;&#34892;&#27169;&#22411;&#26159; **wait-all**&#65306;&#21333;&#20010; provider &#22833;&#36133;&#19981;&#24433;&#21709;&#20854;&#20182;&#12290;&#30636;&#24577;&#38169;&#35823;&#33258;&#21160;&#37325;&#35797;&#65288;&#25351;&#25968;&#36864;&#36991;&#65289;&#12290;

---

## &#19982; OpenClaw &#37197;&#21512;&#20351;&#29992;

[OpenClaw](https://github.com/open-claw/open-claw) &#21487;&#20197;&#30452;&#25509;&#20351;&#29992; MCO &#20316;&#20026;&#22810; Agent &#32534;&#25490;&#21518;&#31471;&#65306;

> *&#8220;&#29992; mco &#23545;&#36825;&#20010;&#20179;&#24211;&#20570;&#23433;&#20840;&#23457;&#26597;&#65292;&#20351;&#29992; Claude&#12289;Codex &#21644; Gemini&#65292;&#27719;&#24635;&#32467;&#26524;&#12290;&#8221;*

OpenClaw &#35835;&#21462; `mco -h`&#65292;&#33258;&#20027;&#32534;&#25490;&#25972;&#20010;&#22810; Agent &#24037;&#20316;&#27969;&#12290;&#21516;&#26679;&#36866;&#29992;&#20110; **Claude Code&#12289;Cursor&#12289;Trae&#12289;Copilot&#12289;Windsurf**&#12290;

---

## &#37197;&#32622;

<details>
<summary><strong>&#20851;&#38190;&#36816;&#34892;&#21442;&#25968;</strong></summary>

MCO &#40664;&#35748;&#38646;&#37197;&#32622;&#21487;&#29992;&#65292;&#25353;&#38656;&#36890;&#36807;&#21629;&#20196;&#34892;&#21442;&#25968;&#35206;&#30422;&#65306;

| &#21442;&#25968; | &#40664;&#35748;&#20540; | &#35828;&#26126; |
|------|--------|------|
| `--providers` | `claude,codex` | &#36887;&#21495;&#20998;&#38548; provider &#21015;&#34920; |
| `--stall-timeout` | `900` | &#26080;&#36755;&#20986;&#36827;&#23637;&#36229;&#36807;&#27492;&#26102;&#38388;&#25165;&#21462;&#28040;&#65288;&#31186;&#65289; |
| `--review-hard-timeout` | `1800` | review &#27169;&#24335;&#30828;&#25130;&#27490;&#65307;`0` = &#31105;&#29992; |
| `--max-provider-parallelism` | `0` | `0` = &#20840;&#24182;&#34892; |
| `--enforcement-mode` | `strict` | &#26435;&#38480;&#19981;&#28385;&#36275;&#26102; fail-closed |
| `--strict-contract` | &#20851;&#38381; | &#24378;&#21046; findings JSON &#22865;&#32422; |
| `--format` | `report` | &#36755;&#20986;&#65306;`report`&#12289;`markdown-pr`&#12289;`sarif` |
| `--include-token-usage` | &#20851;&#38381; | &#21508; provider &#21644;&#27719;&#24635; token &#29992;&#37327; |
| `--synthesize` | &#20851;&#38381; | &#39069;&#22806;&#25191;&#34892;&#19968;&#36718; LLM &#24635;&#32467; |
| `--synth-provider` | `claude` | &#25191;&#34892;&#24635;&#32467;&#30340; provider |
| `--save-artifacts` | &#20851;&#38381; | &#22312;&#40664;&#35748; stdout &#27169;&#24335;&#19979;&#21516;&#26102;&#20889;&#20837;&#20135;&#29289; |

&#36816;&#34892; `mco review --help` &#26597;&#30475;&#23436;&#25972;&#21442;&#25968;&#21015;&#34920;&#12290;

</details>

<details>
<summary><strong>&#32467;&#26524;&#27169;&#24335;&#19982;&#36335;&#24452;&#32422;&#26463;</strong></summary>

**&#32467;&#26524;&#27169;&#24335;&#65306;**

| &#27169;&#24335; | &#34892;&#20026; |
|------|------|
| `--result-mode stdout` | &#23436;&#25972;&#32467;&#26524;&#36755;&#20986;&#21040; stdout&#65292;&#19981;&#20889;&#20135;&#29289;&#25991;&#20214;&#65288;&#40664;&#35748;&#65289; |
| `--result-mode artifact` | &#20889;&#20135;&#29289;&#25991;&#20214;&#65292;&#36755;&#20986;&#25688;&#35201; |
| `--result-mode both` | &#26082;&#20889;&#20135;&#29289;&#21448;&#36755;&#20986;&#23436;&#25972;&#32467;&#26524; |

**&#36335;&#24452;&#32422;&#26463;&#65306;**

```bash
mco run \
  --repo . \
  --prompt "Analyze the adapter layer." \
  --providers claude,codex \
  --allow-paths runtime,scripts \
  --target-paths runtime/adapters \
  --enforcement-mode strict
```

</details>

<details>
<summary><strong>&#36864;&#20986;&#30721;</strong></summary>

| &#36864;&#20986;&#30721; | &#21547;&#20041; |
|--------|------|
| `0` | &#25104;&#21151; |
| `2` | FAIL / &#36755;&#20837; / &#37197;&#32622; / &#36816;&#34892;&#26102;&#38169;&#35823; |
| `3` | INCONCLUSIVE&#65288;&#20165; review &#27169;&#24335;&#65292;&#21551;&#29992; `--strict-contract` &#26102;&#65289; |

</details>

<details>
<summary><strong>&#20135;&#29289;&#32467;&#26500;</strong></summary>

&#21551;&#29992;&#20135;&#29289;&#20889;&#20837;&#65288;`--save-artifacts` &#25110; `--result-mode artifact/both`&#65289;&#26102;&#65306;

```
reports/review/<task_id>/
  summary.md          # &#20154;&#31867;&#21487;&#35835;&#25688;&#35201;
  decision.md         # PASS / FAIL / ESCALATE / PARTIAL
  findings.json       # &#32858;&#21512;&#21518;&#30340;&#26631;&#20934;&#21270; findings
  run.json            # &#26426;&#22120;&#21487;&#35835;&#25191;&#34892;&#20803;&#25968;&#25454;
  providers/          # &#21508; provider &#32467;&#26524; JSON
  raw/                # &#21407;&#22987; stdout/stderr &#26085;&#24535;
```

</details>

---

## &#35768;&#21487;&#35777;

MIT &mdash; &#35265; [LICENSE](./LICENSE)
